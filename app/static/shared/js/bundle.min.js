!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){(function(global){global.QuickSightEmbedding=require("amazon-quicksight-embedding-sdk")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"amazon-quicksight-embedding-sdk":4}],2:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function createIframe(options){var width=options.width,height=options.height,loadingHeight=options.loadingHeight,url=options.url,scrolling=options.scrolling;height===_constants.DASHBOARD_SIZE_OPTIONS.AUTO_FIT&&(height=loadingHeight);var iframe=document.createElement("iframe");return iframe.className="quicksight-embedding-iframe",iframe.width=width||"100%",iframe.height=height||"100%",iframe.scrolling=scrolling||"no",iframe.onload=sendInitialPostMessage.bind(null,iframe,url),iframe.src=getIframeSrc(options),iframe}function getIframeSrc(options){var url=options.url,parameters=options.parameters,src=url+"&punyCodeEmbedOrigin="+_punycode2["default"].encode(window.location.origin+"/");return parameters?useParameterValuesInUrl(src,parameters):src}function useParameterValuesInUrl(url,parameters){var parameterNames=Object.keys(parameters),parameterStrings=parameterNames.map(function(name){var value=parameters[name],values=[].concat(value),encodedName=encodeURIComponent(name);return values.map(function(paramValue){return encodeURIComponent(paramValue)}).map(function(encodedValue){return"p."+encodedName+"="+encodedValue}).join("&")});return url+"#"+parameterStrings.join("&")}function sendInitialPostMessage(iframe,domain){null===iframe.contentWindow&&setTimeout(sendInitialPostMessage.bind(null,iframe,domain),100);var eventName=_constants.OUT_GOING_POST_MESSAGE_EVENT_NAMES.ESTABLISH_MESSAGE_CHANNEL,event=_constructEvent2["default"](eventName);iframe.contentWindow.postMessage(event,domain)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_eventify=require("./lib/eventify"),_eventify2=_interopRequireDefault(_eventify),_constructEvent=require("./lib/constructEvent"),_constructEvent2=_interopRequireDefault(_constructEvent),_constants=require("./lib/constants"),_punycode=require("punycode"),_punycode2=_interopRequireDefault(_punycode),EmbeddableDashboard=function(){function EmbeddableDashboard(options){if(_classCallCheck(this,EmbeddableDashboard),!options)throw new Error("options is required");if(!options.url)throw new Error("url is required");var url=options.url,container=options.container,parameters=options.parameters,errorCallback=options.errorCallback,loadCallback=options.loadCallback;if(this.url=url,container instanceof HTMLElement?this.container=container:"string"==typeof container&&(this.container=document.querySelector(container)),!this.container)throw new Error("can't find valid container");this.parameters=parameters,this.iframe=createIframe(options),_eventify2["default"](this),"function"==typeof errorCallback&&this.on(_constants.CLIENT_FACING_EVENT_NAMES.error,errorCallback),"function"==typeof loadCallback&&this.on(_constants.CLIENT_FACING_EVENT_NAMES.load,loadCallback),window.addEventListener("message",function(event){if(event&&event.source===(this.iframe&&this.iframe.contentWindow)){var _event$data=event.data,eventName=_event$data.eventName,payload=_event$data.payload;if(this.trigger(_constants.CLIENT_FACING_EVENT_NAMES[eventName],payload),eventName===_constants.IN_COMING_POST_MESSAGE_EVENT_NAMES.RESIZE_EVENT){var height=options.height;height===_constants.DASHBOARD_SIZE_OPTIONS.AUTO_FIT&&(this.iframe.height=payload.height)}}}.bind(this),!1),this.getContainer=this.getContainer.bind(this),this.getParameters=this.getParameters.bind(this),this.getUrl=this.getUrl.bind(this),this.setParameters=this.setParameters.bind(this)}return _createClass(EmbeddableDashboard,[{key:"getUrl",value:function(){return this.url}},{key:"getContainer",value:function(){return this.container}},{key:"getParameters",value:function(){return this.parameters}},{key:"setParameters",value:function(parameters){var eventName=_constants.OUT_GOING_POST_MESSAGE_EVENT_NAMES.UPDATE_PARAMETER_VALUES,payload={parameters:parameters},event=_constructEvent2["default"](eventName,payload);this.iframe.contentWindow.postMessage(event,this.url)}}]),EmbeddableDashboard}();exports["default"]=EmbeddableDashboard},{"./lib/constants":5,"./lib/constructEvent":6,"./lib/eventify":7,punycode:8}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function embedDashboard(options){var dashboard=new _EmbeddableDashboard2["default"](options),container=dashboard.getContainer();return setTimeout(attachToDom.bind(null,dashboard.iframe,container),0),dashboard}function attachToDom(iframe,container){if(!iframe)throw new Error("iFrame is required");if(!container)throw new Error("container of iFrame is required");container.appendChild(iframe)}Object.defineProperty(exports,"__esModule",{value:!0});var _EmbeddableDashboard=require("./EmbeddableDashboard"),_EmbeddableDashboard2=_interopRequireDefault(_EmbeddableDashboard);exports["default"]=embedDashboard},{"./EmbeddableDashboard":2}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.embedDashboard=void 0;var _embedDashboard=require("./embedDashboard"),_embedDashboard2=_interopRequireDefault(_embedDashboard);exports.embedDashboard=_embedDashboard2["default"]},{"./embedDashboard":3}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.OUT_GOING_POST_MESSAGE_EVENT_NAMES={ESTABLISH_MESSAGE_CHANNEL:"establishMessageChannel",UPDATE_PARAMETER_VALUES:"updateParameterValues"},exports.IN_COMING_POST_MESSAGE_EVENT_NAMES={LOAD:"load",ERROR:"error",RESIZE_EVENT:"RESIZE_EVENT"},exports.CLIENT_FACING_EVENT_NAMES={load:"load",error:"error",RESIZE_EVENT:"resize"},exports.DASHBOARD_SIZE_OPTIONS={AUTO_FIT:"AutoFit"}},{}],6:[function(require,module,exports){"use strict";function constructEvent(eventName,payload){var validEventNames=new Set(Object.values(_constants.OUT_GOING_POST_MESSAGE_EVENT_NAMES));if(!validEventNames.has(eventName))throw new Error("Unexpected eventName");return{eventName:eventName,clientType:"EMBEDDING",payload:payload}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=constructEvent;var _constants=require("./constants")},{"./constants":5}],7:[function(require,module,exports){"use strict";function eventify(object){function on(eventName,callback){var eventListeners=listeners.get(eventName);eventListeners||(eventListeners=new Set,listeners.set(eventName,eventListeners)),eventListeners.add(callback)}function trigger(eventName){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)args[_key-1]=arguments[_key];var eventListeners=listeners.get(eventName);eventListeners&&eventListeners.forEach(function(listener){return listener.apply(null,args)})}function off(eventName,callback){if(!callback)return listeners["delete"](eventName),object;var eventListeners=listeners.get(eventName);return eventListeners?(eventListeners["delete"](callback),object):object}object||(object={}),assertObjectHasNoReservedKeywords(object);var listeners=new Map;return object.on=on,object.off=off,object.trigger=trigger,object}function assertObjectHasNoReservedKeywords(object){["on","trigger","off"].forEach(function(keyword){if(keyword in object)throw new Error("Cannot eventify object that has `"+keyword+"()` method on it")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=eventify},{}],8:[function(require,module,exports){(function(global){!function(root){function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";parts.length>1&&(result=parts[0]+"@",string=parts[1]),string=string.replace(regexSeparators,".");var labels=string.split("."),encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;length>counter;)value=string.charCodeAt(counter++),value>=55296&&56319>=value&&length>counter?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return 10>codePoint-48?codePoint-22:26>codePoint-65?codePoint-65:26>codePoint-97?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(26>digit)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for(basic=input.lastIndexOf(delimiter),0>basic&&(basic=0),j=0;basic>j;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;inputLength>index;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),digit=basicToDigit(input.charCodeAt(index++)),(digit>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=bias>=k?tMin:k>=bias+tMax?tMax:k-bias,!(t>digit);k+=base)baseMinusT=base-t,w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT;out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(input=ucs2decode(input),inputLength=input.length,n=initialN,delta=0,bias=initialBias,j=0;inputLength>j;++j)currentValue=input[j],128>currentValue&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);inputLength>handledCPCount;){for(m=maxInt,j=0;inputLength>j;++j)currentValue=input[j],currentValue>=n&&m>currentValue&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;inputLength>j;++j)if(currentValue=input[j],n>currentValue&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=bias>=k?tMin:k>=bias+tMax?tMax:k-bias,!(t>q);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal)&&(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);
